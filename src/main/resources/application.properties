# PostgreSQL
spring.datasource.url=jdbc:postgresql://localhost:5432/amhs
spring.datasource.username=amhsuser
spring.datasource.password=changeit
spring.datasource.driver-class-name=org.postgresql.Driver
# Validates and updates the database schema on startup
spring.jpa.hibernate.ddl-auto=update
# shows the SQL in the console so you can see what's happening
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Toggle AMHS message persistence. When false, received messages are logged to console only.
amhs.database.enabled=true

# RFC1006 server port
rfc1006.server.port=102
# Interface used by the AMHS RFC1006 server
rfc1006.server.host=0.0.0.0

# Local MTA identity used to append this hop into inbound transfer trace records.
amhs.mta.local-name=LOCAL-MTA
# Routing domain identifier used in transfer trace hop formatting.
amhs.mta.routing-domain=LOCAL

# Default remote AMHS peer IP (used by client/gateway integrations)
amhs.remote.peer.ip=127.0.0.1

# Message retention period used for legal logging/archive window
amhs.archive.retention-days=30

# TLS
tls.keystore.path=classpath:certs/server.p12
tls.keystore.password=changeit
# Optional truststore for mutual TLS client certificate validation
#rfc1006.tls.need-client-auth=true
rfc1006.tls.need-client-auth=false
tls.truststore.path=classpath:certs/client-truststore.jks
tls.truststore.password=changeit

# Not render html view
spring.jpa.open-in-view=false

# PKIX controls for ATN/AMHS deployments
# Enable revocation checks (CRL/OCSP via JVM security settings) for peer certificate path validation.
tls.pkix.revocation-enabled=false
# Optional comma-separated certificate policy OIDs required during trust-path validation.
#tls.pkix.required-policy-oids=2.5.29.32.0

# Outbound relay (P1 client)
amhs.relay.enabled=false
# Semicolon separated routes: <O/R pattern>->host:port|host2:port;/C=IT/ADMD=ICAO/PRMD=ENAV->mta1:102
amhs.relay.routing-table=
amhs.relay.max-attempts=5
amhs.relay.scan-delay-ms=5000
